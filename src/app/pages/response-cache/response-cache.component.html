<div class="card border-secondary mb-6" style="max-width: 100%;">
  <div class="card-header">HttpRequestCache</div>
  <div class="card-body text-secondary">
    <h4 class="card-title">Httpリクエストの結果をキャッシュするサンプル</h4>
    <div class="card-text">
      <p>
        Httpリクエストの結果をキャッシュし同じパラメータであればHttpリスエストを送信しない
      </p>
      <p>
        Httpリクエスト送信時にInterceptorでSubjectに通信内容を流しているので通信が発生するとログに出力される
      </p>
    </div>
  </div>
</div>


<div>
  <button type="button" (click)="getHeroes()" class="btn btn-sm btn-primary">
    GetHeroes
  </button>
  <ng-container *ngIf="heroes">
    <div *ngFor="let hero of heroes">{{ hero?.id }} {{ hero?.name }}</div>
    {{ heroes | json }}
  </ng-container>
</div>
<div>
  <button type="button" (click)="getHeroes2()" class="btn btn-sm btn-primary">
    GetHeroes2
  </button>

  <ng-container *ngIf="heroes2">
    <div *ngFor="let hero of heroes2">{{ hero?.id }} {{ hero?.name }}</div>
    {{ heroes | json }}
  </ng-container>
</div>

<ng-container *ngFor="let n of [1, 2, 3]">
  <button type="button" (click)="getHero(n)" class="btn btn-sm btn-success">
    Get Hero(id: {{ n }})
  </button>
</ng-container>

<br />
<button type="button" (click)="getUsers()" class="btn btn-sm btn-primary">
  Users
</button>
<button type="button" (click)="getUsers2()" class="btn btn-sm btn-primary">
  Users2
</button>

<button
  type="button"
  (click)="getUsersWithParams()"
  class="btn btn-sm btn-primary"
>
  UsersWithParams
</button>

<alert type="info">
  <div *ngFor="let log of logs">
    {{ log.message }}
  </div>
</alert>

<ng-container *ngFor="let user of users">
  <hr />
  {{ user | json }}
</ng-container>
